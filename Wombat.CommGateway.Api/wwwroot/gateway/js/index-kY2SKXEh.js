var e=Object.defineProperty,a=(a,t,n)=>((a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n)(a,"symbol"!=typeof t?t+"":t,n);import{d as t,r as n,o as l,al as i,a4 as r,E as s,am as o,an as d,a as u,v as c,c as p,b as v,e as g,I as f,w as m,g as h,k as y,S as w,ao as b,n as _,t as S,ap as P,F as I,U as C,N as k,q as T,V as U,x as H,H as D,O as N,_ as z,i as R,h as B,j as x}from"./index-BKaj1bP9.js";import{D as V,R as M,a as W,g as G,c as $,b as j}from"./point-CNhQU_iU.js";import{w as q}from"./dataCollection-CnmYLUmi.js";import{g as F}from"./device-DjQUr6tV.js";import{g as O}from"./deviceGroup-CStYvMxJ.js";import{_ as A}from"./_plugin-vue_export-helper-BCo6x5W8.js";const E={class:"point-management"},L={class:"page-header"},J={class:"header-info"},Y={class:"connection-status"},K={class:"main-content"},Q={class:"device-group-tree"},X=["onClick"],Z={class:"point-list"},ee={class:"table-container"},ae={class:"value-cell"},te={class:"value-text"},ne={class:"pagination"},le={class:"debug-drawer__content"},ie={class:"debug-drawer__header"},re={class:"debug-drawer__actions"},se={class:"debug-drawer__body"},oe={class:"debug-section"},de={class:"debug-section"},ue={class:"debug-section"},ce={key:0},pe={key:0,class:"debug-section"},ve={style:{"font-size":"12px","white-space":"pre-wrap"}},ge={key:1,class:"debug-section"},fe={style:{"font-size":"12px","white-space":"pre-wrap"}},me={key:2,class:"debug-section"},he={style:{"font-size":"12px","white-space":"pre-wrap"}},ye="point-monitor",we=A(t({__name:"index",setup(e){function t(e){if(!e)return"";try{const a=new Date(e);if(isNaN(a.getTime()))return e;const t=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0"),i=String(a.getHours()).padStart(2,"0"),r=String(a.getMinutes()).padStart(2,"0"),s=String(a.getSeconds()).padStart(2,"0");return`${t}-${n}-${l} ${i}:${r}:${s}.${String(a.getMilliseconds()).padStart(3,"0")}`}catch(a){return e}}function A(e,a){var t;let n=e.dataType;if("string"==typeof n){const e=Object.entries(we).find((([e,a])=>a===n));n=e?Number(e[0]):V.Float}return{...e,deviceName:(null==(t=a(e.deviceId))?void 0:t.name)||"",scanRate:e.scanRate||1e3,enable:void 0!==e.enable?e.enable:e.readable||e.writeable||!1,status:void 0!==e.status?e.status:W.Unknown,createTime:e.createTime||(new Date).toISOString(),dataType:n,readWrite:"number"==typeof e.readWrite?e.readWrite:M.ReadWrite}}const we={[V.None]:"None",[V.Bool]:"Bool",[V.Byte]:"Byte",[V.Int16]:"Int16",[V.UInt16]:"UInt16",[V.Int32]:"Int32",[V.UInt32]:"UInt32",[V.Int64]:"Int64",[V.UInt64]:"UInt64",[V.Float]:"Float",[V.Double]:"Double",[V.String]:"String"},be={[M.Read]:"只读",[M.Write]:"只写",[M.ReadWrite]:"读写"},_e={[W.Unknown]:"未知",[W.Good]:"正常",[W.Bad]:"异常"};R(),B();const Se=new class{constructor(){a(this,"root"),a(this,"deviceMap"),a(this,"groupMap"),a(this,"currentNode",null),this.root={id:0,name:"全部",nodeType:"root",uniqueId:"root_0",children:[],points:[]},this.deviceMap=new Map,this.groupMap=new Map}async initialize(){try{const e=await F();e.forEach((e=>this.deviceMap.set(e.id,e)));const a=await O();return a.forEach((e=>this.groupMap.set(e.id,e))),this.root={id:0,name:"全部",nodeType:"root",uniqueId:"root_0",children:[],points:[]},this.root.children=a.map((a=>({id:a.id,name:a.name,nodeType:"group",description:a.description,uniqueId:`group_${a.id}`,children:e.filter((e=>e.deviceGroupId===a.id)).map((e=>({id:e.id,name:e.name,nodeType:"device",description:e.description,parentId:a.id,uniqueId:`device_${e.id}`})))}))),await this.loadPoints(),this.root}catch(e){throw e}}async loadPoints(){try{if(!this.currentNode){const e=await G(),a=(Array.isArray(e)?e:e.items).map((e=>A(e,this.getDevice.bind(this))));return this.root.points=a,a}switch(this.currentNode.nodeType){case"root":const e=await G(),a=(Array.isArray(e)?e:e.items).map((e=>A(e,this.getDevice.bind(this))));return this.currentNode.points=a,a;case"device":const t=await j(this.currentNode.id),n=(Array.isArray(t)?t:t.items).map((e=>A(e,this.getDevice.bind(this))));return this.currentNode.points=n,n;case"group":const l=await $(this.currentNode.id),i=(Array.isArray(l)?l:l.items).map((e=>A(e,this.getDevice.bind(this))));return this.currentNode.points=i,i;default:return[]}}catch(e){return[]}}setCurrentNode(e){return this.currentNode=e,this.loadPoints()}getCurrentNode(){return this.currentNode}getDevice(e){return this.deviceMap.get(e)}getDeviceGroup(e){return this.groupMap.get(e)}getTreeData(){return[this.root]}async getRealTimeValues(e){try{return e.map((e=>({...e,value:e.value||""})))}catch(a){return e}}},Pe=n([]),Ie=n([]),Ce=n(!1),ke=n(!1),Te=n(0),Ue=n([]),He=n(),De={children:"children",label:"name",isLeaf:e=>"device"===e.nodeType||!1},Ne=n(""),ze=n(null),Re=n(!1),Be=n(""),xe=n(null),Ve=(e,a)=>{},Me=async e=>{if(e){Ne.value=e.uniqueId||"",Ce.value=!0;try{const a=await Se.setCurrentNode(e);a&&(Ie.value=a.map((e=>A(e,Se.getDevice.bind(Se)))),Te.value=a.length),await Le()}catch(a){s.error("获取点位数据失败")}finally{Ce.value=!1}}},We=n("Disconnected"),Ge=()=>{const e=i.getConnectionState(),a=We.value;We.value=e||"Disconnected",a!==We.value&&("Connected"===We.value&&"Connected"!==a?s.success("实时连接已恢复"):"Disconnected"===We.value&&"Disconnected"!==a&&s.warning("实时连接已断开，正在尝试重连..."))},$e=async()=>{if("visible"===document.visibilityState){if("Disconnected"===i.getConnectionState())try{await i.connect(),await Le()}catch(e){s.warning("页面重新可见时连接失败，请手动刷新页面")}else{i.validateSubscriptions()||await Le()}}};l((async()=>{Ce.value=!0;try{i.setCurrentPage(ye),await qe(),await Oe();const e=await Se.initialize();Pe.value=[e],e.points&&(Ie.value=e.points.map((e=>A(e,Se.getDevice.bind(Se)))),Te.value=e.points.length),await i.connect(),await Le(),ke.value=!0,setTimeout((()=>{ke.value=!1}),3e3),Ge();const a=setInterval(Ge,5e3);document.addEventListener("visibilitychange",$e),i.addPointUpdateHandler(ye,Je),i.addBatchPointsUpdateHandler(ye,Ye),i.addPointStatusChangeHandler(ye,Ke),i.addPointRemovedHandler(ye,Qe),i.addBatchPointsRemovedHandler(ye,Xe),xe.value=i.getSubscriptionStatistics(),r((()=>{clearInterval(a),document.removeEventListener("visibilitychange",$e),i.removePointUpdateHandler(ye),i.removeBatchPointsUpdateHandler(ye),i.removePointStatusChangeHandler(ye),i.removePointRemovedHandler(ye),i.removeBatchPointsRemovedHandler(ye)}))}catch(e){s.error("初始化失败")}finally{Ce.value=!1}})),o((async()=>{i.setCurrentPage(ye);if("Disconnected"===i.getConnectionState())try{await i.connect()}catch(e){return void s.error("连接失败，请刷新页面重试")}i.removePointUpdateHandler(ye),i.removeBatchPointsUpdateHandler(ye),i.removePointStatusChangeHandler(ye),i.removePointRemovedHandler(ye),i.removeBatchPointsRemovedHandler(ye),i.addPointUpdateHandler(ye,Je),i.addBatchPointsUpdateHandler(ye,Ye),i.addPointStatusChangeHandler(ye,Ke),i.addPointRemovedHandler(ye,Qe),i.addBatchPointsRemovedHandler(ye,Xe),await Le();i.validateSubscriptions()||await Le()})),d((async()=>{try{await i.clearPageSubscriptions(ye)}catch(e){}i.removePointUpdateHandler(ye),i.removeBatchPointsUpdateHandler(ye),i.removePointStatusChangeHandler(ye),i.removePointRemovedHandler(ye),i.removeBatchPointsRemovedHandler(ye)})),r((async()=>{try{await i.clearPageSubscriptions(ye)}catch(e){}i.removePointUpdateHandler(ye),i.removeBatchPointsUpdateHandler(ye),i.removePointStatusChangeHandler(ye),i.removePointRemovedHandler(ye),i.removeBatchPointsRemovedHandler(ye)}));const je=u({page:1,pageSize:10,groupId:void 0}),qe=async()=>{try{const e=await F();Ue.value=e}catch(e){s.error("获取设备列表失败")}},Fe=n([]),Oe=async()=>{try{const e=await O();Fe.value=e.map((e=>({id:e.id,name:e.name})))}catch(e){s.error("获取设备组列表失败")}},Ae=e=>{je.pageSize=e,je.page=1},Ee=e=>{je.page=e},Le=async()=>{const e=Se.getCurrentNode();if(e){if(ze.value)try{switch(ze.value.type){case"device":await i.unsubscribeDevice(ze.value.id);break;case"group":await i.unsubscribeGroup(ze.value.id);break;case"point":await i.unsubscribePoint(ze.value.id)}}catch(a){}try{switch(e.nodeType){case"device":await i.subscribeDevice(e.id),ze.value={type:"device",id:e.id};break;case"group":await i.subscribeGroup(e.id),ze.value={type:"group",id:e.id};break;default:ze.value=null}i.validateSubscriptions()}catch(a){s.error("订阅失败，请检查网络连接"),ze.value=null}}},Je=e=>{if(i.getCurrentPageId&&i.getCurrentPageId()!==ye)return;const a=(null==e?void 0:e.PointId)||(null==e?void 0:e.pointId),t=Ie.value.findIndex((e=>e.id===a));if(-1!==t){let a=(null==e?void 0:e.Status)||(null==e?void 0:e.status);"string"==typeof a?a="Good"===a||"1"===a?W.Good:"Bad"===a||"2"===a?W.Bad:W.Unknown:"number"==typeof a?(a<0||a>2)&&(a=W.Unknown):a=W.Unknown;const n={...Ie.value[t],value:(null==e?void 0:e.Value)||(null==e?void 0:e.value)||"",status:a,updateTime:(null==e?void 0:e.UpdateTime)||(null==e?void 0:e.updateTime)||(new Date).toISOString()};Ie.value.splice(t,1,n),Be.value=(new Date).toLocaleTimeString()}},Ye=e=>{if(i.getCurrentPageId&&i.getCurrentPageId()!==ye)return;let a=0;e.forEach(((e,t)=>{const n=(null==e?void 0:e.PointId)||(null==e?void 0:e.pointId),l=Ie.value.findIndex((e=>e.id===n));if(-1!==l){let t=(null==e?void 0:e.Status)||(null==e?void 0:e.status);"string"==typeof t?t="Good"===t||"1"===t?W.Good:"Bad"===t||"2"===t?W.Bad:W.Unknown:"number"==typeof t?(t<0||t>2)&&(t=W.Unknown):t=W.Unknown;const n={...Ie.value[l],value:(null==e?void 0:e.Value)||(null==e?void 0:e.value)||"",status:t,updateTime:(null==e?void 0:e.UpdateTime)||(null==e?void 0:e.updateTime)||(new Date).toISOString()};Ie.value.splice(l,1,n),a++}else 0})),a>0&&(Be.value=(new Date).toLocaleTimeString())},Ke=e=>{if(i.getCurrentPageId&&i.getCurrentPageId()!==ye)return;const a=(null==e?void 0:e.PointId)||(null==e?void 0:e.pointId),t=Ie.value.findIndex((e=>e.id===a));if(-1!==t){const a={...Ie.value[t],status:(null==e?void 0:e.Status)||(null==e?void 0:e.status),updateTime:(null==e?void 0:e.UpdateTime)||(null==e?void 0:e.updateTime)};Ie.value.splice(t,1,a)}},Qe=e=>{if(i.getCurrentPageId&&i.getCurrentPageId()!==ye)return;const a=(null==e?void 0:e.PointId)||(null==e?void 0:e.pointId),t=Ie.value.findIndex((e=>e.id===a));if(-1!==t){Ie.value[t];Ie.value.splice(t,1),Te.value--}},Xe=e=>{if(i.getCurrentPageId&&i.getCurrentPageId()!==ye)return;const a=(null==e?void 0:e.PointIds)||(null==e?void 0:e.pointIds)||[];a.forEach(((e,a)=>{const t=Ie.value.findIndex((a=>a.id===e));if(-1!==t){Ie.value[t];Ie.value.splice(t,1)}else 0})),Te.value-=a.length},Ze=n(!1),ea=n(),aa=u({id:0,name:"",address:"",dataType:V.Float,currentValue:"",newValue:""}),ta={newValue:[{required:!0,message:"请输入写入值",trigger:"blur"}]},na=(e,a)=>{if(null==e)return"";switch(a){case V.Bool:if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e){const a=e.toLowerCase();if("true"===a||"1"===a||"yes"===a)return"true";if("false"===a||"0"===a||"no"===a)return"false"}else if("number"==typeof e)return 0!==e?"true":"false";return e?"true":"false";case V.Float:case V.Double:return Number(e).toFixed(2);default:return String(e)}},la=async()=>{ea.value&&await ea.value.validate((async e=>{if(e)try{await q(aa.id,aa.newValue),s.success("写入成功"),Ze.value=!1,await Me(Se.getCurrentNode())}catch(a){s.error("写入点位值失败")}}))},ia=c((()=>{const e=(je.page-1)*je.pageSize,a=e+je.pageSize;return Ie.value.slice(e,a)})),ra=()=>{const e=i.getSubscriptionStatistics();xe.value=e},sa=()=>{Re.value=!Re.value,Re.value&&ra()},oa=n(null),da=n(null),ua=n(null),ca=async()=>{oa.value=await i.getSubscriptionStatus(),oa.value||s.warning("获取订阅状态失败")},pa=async()=>{da.value=await i.getConnectionStatistics(),da.value||s.warning("获取连接统计失败")},va=async()=>{var e;ua.value=await i.refreshHierarchyCache(),(null==(e=ua.value)?void 0:e.success)||s.warning("层级缓存刷新失败")};return(e,a)=>{var n,l,r,s;const o=h("el-icon"),d=h("el-tag"),u=h("el-tree"),c=h("el-card"),R=h("el-table-column"),B=h("el-button"),V=h("el-table"),G=h("el-pagination"),$=h("el-form-item"),j=h("el-input"),q=h("el-form"),F=h("el-dialog"),O=D("loading");return x(),p("div",E,[v("div",L,[a[5]||(a[5]=v("h2",null,"点位监视",-1)),v("div",J,[v("div",Y,[g(d,{type:"Connected"===We.value?"success":"danger",size:"small"},{default:m((()=>[g(o,null,{default:m((()=>[g(y(C))])),_:1}),_(" "+S("Connected"===We.value?"实时连接":"连接断开"),1)])),_:1},8,["type"])])])]),v("div",K,[v("div",Q,[g(c,{class:"tree-card"},{header:m((()=>a[6]||(a[6]=[v("div",{class:"tree-header"},[v("span",null,"设备组")],-1)]))),default:m((()=>[g(u,{ref_key:"treeRef",ref:He,data:Pe.value,props:De,"node-key":"uniqueId","default-expand-all":"","expand-on-click-node":!1,"highlight-current":!1,onNodeClick:Ve},{default:m((({node:e,data:a})=>[v("div",{class:w(["custom-tree-node",{"is-active":Ne.value===a.uniqueId}]),onClick:k((e=>Me(a)),["stop"])},["device"===a.nodeType?(x(),T(o,{key:0},{default:m((()=>[g(y(C))])),_:1})):(x(),T(o,{key:1},{default:m((()=>[g(y(U))])),_:1})),v("span",null,S(e.label),1)],10,X)])),_:1},8,["data"])])),_:1})]),v("div",Z,[g(c,null,{default:m((()=>[v("div",ee,[H((x(),T(V,{data:ia.value,border:""},{default:m((()=>[g(R,{prop:"name",label:"点位名称","min-width":"120"}),g(R,{prop:"deviceName",label:"所属设备","min-width":"120"}),g(R,{prop:"address",label:"地址","min-width":"120"}),g(R,{prop:"dataType",label:"数据类型",width:"100"},{default:m((({row:e})=>[g(d,null,{default:m((()=>[_(S(we[e.dataType]||"未知"),1)])),_:2},1024)])),_:1}),g(R,{prop:"readWrite",label:"读写类型",width:"100"},{default:m((({row:e})=>[g(d,{type:e.readWrite===y(M).Read?"info":"success"},{default:m((()=>[_(S(be[e.readWrite]||"未知"),1)])),_:2},1032,["type"])])),_:1}),g(R,{prop:"updateTime",label:"更新时间",width:"180"},{default:m((({row:e})=>[_(S(t(e.updateTime)),1)])),_:1}),g(R,{prop:"value",label:"当前值","min-width":"150"},{default:m((({row:e})=>[v("div",ae,[v("span",te,S(na(e.value,e.dataType)),1),e.readWrite===y(M).Write||e.readWrite===y(M).ReadWrite?(x(),T(B,{key:0,type:"primary",size:"small",icon:y(N),onClick:a=>(e=>{aa.id=e.id,aa.name=e.name,aa.address=e.address,aa.dataType=e.dataType,aa.currentValue=e.value||"",aa.newValue="",Ze.value=!0})(e),class:"write-btn"},{default:m((()=>a[7]||(a[7]=[_(" 写入 ")]))),_:2,__:[7]},1032,["icon","onClick"])):f("",!0)])])),_:1}),g(R,{prop:"status",label:"状态",width:"100"},{default:m((({row:e})=>[g(d,{type:e.status===y(W).Unknown?"info":e.status===y(W).Good?"success":"danger"},{default:m((()=>[_(S(_e[e.status]||"未知"),1)])),_:2},1032,["type"])])),_:1})])),_:1},8,["data"])),[[O,Ce.value||ke.value]])]),v("div",ne,[g(G,{"current-page":je.page,"onUpdate:currentPage":a[0]||(a[0]=e=>je.page=e),"page-size":je.pageSize,"onUpdate:pageSize":a[1]||(a[1]=e=>je.pageSize=e),total:Te.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:Ae,onCurrentChange:Ee},null,8,["current-page","page-size","total"])])])),_:1})])]),g(F,{modelValue:Ze.value,"onUpdate:modelValue":a[4]||(a[4]=e=>Ze.value=e),title:"写入点位值",width:"500px"},{footer:m((()=>[g(B,{onClick:a[3]||(a[3]=e=>Ze.value=!1)},{default:m((()=>a[8]||(a[8]=[_("取消")]))),_:1,__:[8]}),g(B,{type:"primary",onClick:la},{default:m((()=>a[9]||(a[9]=[_("确定")]))),_:1,__:[9]})])),default:m((()=>[g(q,{ref_key:"writeFormRef",ref:ea,model:aa,rules:ta,"label-width":"100px"},{default:m((()=>[g($,{label:"点位名称"},{default:m((()=>[v("span",null,S(aa.name),1)])),_:1}),g($,{label:"地址"},{default:m((()=>[v("span",null,S(aa.address),1)])),_:1}),g($,{label:"数据类型"},{default:m((()=>[v("span",null,S(we[aa.dataType]),1)])),_:1}),g($,{label:"当前值"},{default:m((()=>[v("span",null,S(na(aa.currentValue,aa.dataType)),1)])),_:1}),g($,{label:"新值",prop:"newValue"},{default:m((()=>[g(j,{modelValue:aa.newValue,"onUpdate:modelValue":a[2]||(a[2]=e=>aa.newValue=e),placeholder:"请输入新值"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),y(false)?(x(),p("div",{key:0,class:w(["debug-drawer",{"debug-drawer--open":Re.value}])},[v("div",{class:"debug-drawer__toggle",onClick:sa},[g(o,null,{default:m((()=>[g(y(z))])),_:1}),a[10]||(a[10]=v("span",null,"调试",-1))]),v("div",le,[v("div",ie,[a[16]||(a[16]=v("span",null,"调试信息",-1)),v("div",re,[g(B,{size:"small",onClick:ra},{default:m((()=>a[11]||(a[11]=[_("刷新")]))),_:1,__:[11]}),g(B,{size:"small",onClick:ca},{default:m((()=>a[12]||(a[12]=[_("订阅状态")]))),_:1,__:[12]}),g(B,{size:"small",onClick:pa},{default:m((()=>a[13]||(a[13]=[_("连接统计")]))),_:1,__:[13]}),g(B,{size:"small",onClick:va},{default:m((()=>a[14]||(a[14]=[_("刷新层级缓存")]))),_:1,__:[14]}),g(B,{size:"small",onClick:sa},{default:m((()=>a[15]||(a[15]=[_("关闭")]))),_:1,__:[15]})])]),v("div",se,[v("div",oe,[a[21]||(a[21]=v("h4",null,"页面信息",-1)),v("p",null,[a[17]||(a[17]=v("strong",null,"页面ID:",-1)),_(" "+S(ye))]),v("p",null,[a[18]||(a[18]=v("strong",null,"连接状态:",-1)),v("span",{style:P({color:"Connected"===We.value?"#67c23a":"#f56c6c"})},S(We.value),5)]),v("p",null,[a[19]||(a[19]=v("strong",null,"当前节点:",-1)),_(" "+S((null==(n=y(Se).getCurrentNode())?void 0:n.name)||"无"),1)]),v("p",null,[a[20]||(a[20]=v("strong",null,"点位数量:",-1)),_(" "+S(Ie.value.length),1)]),a[22]||(a[22]=v("p",null,[v("strong",null,"架构版本:"),_(),v("span",{style:{color:"#409eff"}},"优化版 v2.0")],-1))]),v("div",de,[a[28]||(a[28]=v("h4",null,"订阅状态 (优化架构)",-1)),v("p",null,[a[23]||(a[23]=v("strong",null,"当前页面订阅:",-1)),_(" "+S(ze.value?`${ze.value.type}: ${ze.value.id}`:"无"),1)]),v("p",null,[a[24]||(a[24]=v("strong",null,"订阅验证:",-1)),v("span",{style:P({color:y(i).validateSubscriptions()?"#67c23a":"#f56c6c"})},S(y(i).validateSubscriptions()?"有效":"无效"),5)]),xe.value?(x(),p(I,{key:0},[v("p",null,[a[25]||(a[25]=v("strong",null,"页面订阅数:",-1)),_(" 设备"+S((null==(l=xe.value.currentPage)?void 0:l.devices)||0)+" | 设备组"+S((null==(r=xe.value.currentPage)?void 0:r.groups)||0)+" | 点位"+S((null==(s=xe.value.currentPage)?void 0:s.points)||0),1)]),v("p",null,[a[26]||(a[26]=v("strong",null,"全局订阅数:",-1)),_(" 设备"+S(xe.value.global.devices)+" | 设备组"+S(xe.value.global.groups)+" | 点位"+S(xe.value.global.points),1)]),v("p",null,[a[27]||(a[27]=v("strong",null,"总页面数:",-1)),_(" "+S(xe.value.totalPages),1)])],64)):f("",!0)]),v("div",ue,[a[32]||(a[32]=v("h4",null,"实时数据",-1)),v("p",null,[a[29]||(a[29]=v("strong",null,"加载状态:",-1)),_(" "+S(ke.value?"加载中":"已完成"),1)]),v("p",null,[a[30]||(a[30]=v("strong",null,"最后更新:",-1)),_(" "+S(Be.value||"无"),1)]),xe.value?(x(),p("p",ce,[a[31]||(a[31]=v("strong",null,"注册处理器:",-1)),_(" 更新"+S(xe.value.handlers.pointUpdate)+" | 批量"+S(xe.value.handlers.batchPointsUpdate)+" | 状态"+S(xe.value.handlers.pointStatusChange),1)])):f("",!0)]),a[33]||(a[33]=b('<div class="debug-section" data-v-4f72aff2><h4 data-v-4f72aff2>推送架构</h4><p data-v-4f72aff2><strong data-v-4f72aff2>模式:</strong> <span style="color:#67c23a;" data-v-4f72aff2>统一订阅推送</span></p><p data-v-4f72aff2><strong data-v-4f72aff2>分发服务:</strong> <span style="color:#67c23a;" data-v-4f72aff2>已启用</span></p><p data-v-4f72aff2><strong data-v-4f72aff2>层级订阅:</strong> <span style="color:#67c23a;" data-v-4f72aff2>支持</span></p><p data-v-4f72aff2><strong data-v-4f72aff2>重复推送:</strong> <span style="color:#67c23a;" data-v-4f72aff2>已消除</span></p></div>',1))]),oa.value?(x(),p("div",pe,[a[34]||(a[34]=v("h4",null,"详细订阅状态",-1)),v("pre",ve,S(JSON.stringify(oa.value,null,2)),1)])):f("",!0),da.value?(x(),p("div",ge,[a[35]||(a[35]=v("h4",null,"连接统计",-1)),v("pre",fe,S(JSON.stringify(da.value,null,2)),1)])):f("",!0),ua.value?(x(),p("div",me,[a[36]||(a[36]=v("h4",null,"层级缓存刷新结果",-1)),v("pre",he,S(JSON.stringify(ua.value,null,2)),1)])):f("",!0)])],2)):f("",!0)])}}}),[["__scopeId","data-v-4f72aff2"]]);export{we as default};
